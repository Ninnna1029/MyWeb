<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="css/rwd.css">
    <title>âœ¦ ğ’ğğ«ğğ§ğğ¢ğ©ğ¢ğ­ğ² âœ¦</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
  <canvas id="starfield"></canvas>
    <div class="top">
        <nav class="navbar navbar-expand-lg navbar-dark">
          <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
              <img src="images/logo.png" alt="Logo" style="height:32px;width:auto;margin-right:10px;">
              ğ’ğğ«ğğ§ğğ¢ğ©ğ¢ğ­ğ²
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
              aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="me.html">About Me</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" href="music.html">Music</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Artist
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="group.html">Group</a></li>
                    <li><a class="dropdown-item" href="solo.html">Solo</a></li>
                  </ul>
                </li>
              </ul>
              <div class="bgm-player d-flex align-items-center ms-lg-3">
                <button class="btn btn-outline-light btn-sm" id="bgm-play-btn" type="button" aria-label="Play background music" style="margin-right: 12px;">
                  <span id="bgm-play-icon" class="bi bi-play-fill"></span>
                </button>
              
                <div class="bgm-controls d-flex flex-column" style="width: 200px; margin-right: 12px;">
                  <div class="d-flex align-items-center mb-2">
                    <label for="bgm-progress" class="me-2 text-white" style="min-width: 50px; font-size: 0.85rem;">Progress</label>
                    <input type="range" id="bgm-progress" min="0" max="100" value="0" step="0.1" style="flex-grow: 1; accent-color: #abc7ee;">
                  </div>
                  <div class="d-flex align-items-center">
                    <label for="bgm-volume" class="me-2 text-white" style="min-width: 50px; font-size: 0.85rem;">Volume</label>
                    <input type="range" id="bgm-volume" min="0" max="100" value="60" step="1" style="flex-grow: 1; accent-color: #abc7ee;">
                  </div>
                </div>
              
                <div class="bgm-title text-white" style="min-width: 150px; font-size: 0.95rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                  Shiny Star
                </div>
              
                <audio id="bgm-audio" src="audio/bgm.mp3" preload="auto" style="display:none;"></audio>
              </div>
            </div>
          </div>
        </nav>
    </div>      

    <div class="container my-4">
      <!-- ç¬¬ä¸€é¦–æ­Œ -->
      <div class="music-player-block mb-5" data-song="1">
        <div class="card music-player border-0 shadow-none">
          <div class="row g-0 align-items-center flex-lg-row flex-column">
            <div class="col-lg-5 d-flex justify-content-center align-items-center mb-3 mb-lg-0">
              <img src="images/hope.jpg" class="album-img" alt="Album Cover" />
            </div>
            <div class="col-lg-7 d-flex flex-column justify-content-between">
              <div class="lyric-section px-3 py-2">
                <br>
                <h5 class="song-title mb-3 text-center text-lg-start">Hopefully Sky</h5>
                <div class="lyric-box" data-lyric-box="1"></div>
              </div>
              <div class="player-controls d-flex align-items-center justify-content-center py-3 flex-row">
                <button class="btn btn-outline-light btn-sm me-2" data-play-btn="1">
                  <span data-play-icon="1" class="bi bi-play-fill"></span>
                </button>
                <span data-current-time="1">0:00</span>
                <input type="range" data-progress="1" value="0" min="0" max="100" class="mx-2" style="width:120px;">
                <span data-duration="1">0:00</span>
                <audio data-audio="1" src="audio/hopefullysky.mp3"></audio>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <!-- ç¬¬äºŒé¦–æ­Œ -->
      <div class="music-player-block mb-5" data-song="2">
        <div class="card music-player border-0 shadow-none">
          <div class="row g-0 align-items-center flex-lg-row flex-column">
            <div class="col-lg-5 d-flex justify-content-center align-items-center mb-3 mb-lg-0">
              <img src="images/lovepoem.jpg" class="album-img" alt="Album Cover" />
            </div>
            <div class="col-lg-7 d-flex flex-column justify-content-between">
              <div class="lyric-section px-3 py-2">
                <br>
                <h5 class="song-title mb-3 text-center text-lg-start">Blueming</h5>
                <div class="lyric-box" data-lyric-box="2"></div>
              </div>
              <div class="player-controls d-flex align-items-center justify-content-center py-3 flex-row">
                <button class="btn btn-outline-light btn-sm me-2" data-play-btn="2">
                  <span data-play-icon="2" class="bi bi-play-fill"></span>
                </button>
                <span data-current-time="2">0:00</span>
                <input type="range" data-progress="2" value="0" min="0" max="100" class="mx-2" style="width:120px;">
                <span data-duration="2">0:00</span>
                <audio data-audio="2" src="audio/blueming.mp3"></audio>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ç¬¬ä¸‰é¦–æ­Œ -->
      <div class="music-player-block mb-5" data-song="3">
        <div class="card music-player border-0 shadow-none">
          <div class="row g-0 align-items-center flex-lg-row flex-column">
            <div class="col-lg-5 d-flex justify-content-center align-items-center mb-3 mb-lg-0">
              <img src="images/iloveu.jpg" class="album-img" alt="Album Cover" />
            </div>
            <div class="col-lg-7 d-flex flex-column justify-content-between">
              <div class="lyric-section px-3 py-2">
                <br>
                <h5 class="song-title mb-3 text-center text-lg-start">ì˜¤ëŠ˜ë§Œ I LOVE YOU</h5>
                <div class="lyric-box" data-lyric-box="3"></div>
              </div>
              <div class="player-controls d-flex align-items-center justify-content-center py-3 flex-row">
                <button class="btn btn-outline-light btn-sm me-2" data-play-btn="3">
                  <span data-play-icon="3" class="bi bi-play-fill"></span>
                </button>
                <span data-current-time="3">0:00</span>
                <input type="range" data-progress="3" value="0" min="0" max="100" class="mx-2" style="width:120px;">
                <span data-duration="3">0:00</span>
                <audio data-audio="3" src="audio/ifisayiloveu.mp3"></audio>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="text-center">
            <h3>ğ’•ğ’ ğ’ƒğ’† ğ’„ğ’ğ’ğ’•ğ’Šğ’ğ’–ğ’†ğ’…...</h3>
          </div>          
        </div>
      </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.js"></script>
    
<script>
// æ­Œè©é™£åˆ—ï¼šæ¯é¦–æ­Œä¸€çµ„
const allLyrics = {
  1: [
  { time: 0, text: "", translation: "" },
  { time: 11, text: "ê½ƒ ìì´ ë‚´ ë§˜ì„ í”ë“¤ê³ ", translation: "èŠ±ç“£æ–å‹•è‘—æˆ‘çš„å¿ƒ" },
  { time: 17, text: "ê½ƒ ìì´ ë‚´ ëˆˆì„ ì ì‹œê³ ", translation: "èŠ±ç“£æ¿•æ½¤äº†æˆ‘çœ¼ç›" },
  { time: 22, text: "ì•„ë¦„ë‹¤ìš´ ê¸°ì–µ", translation: "ç¾éº—çš„è¨˜æ†¶" },
  { time: 24, text: "í‘¸ë¥¸ í•˜ëŠ˜ë§Œ ë°”ë¼ë³¸ë‹¤", translation: "ä»°æœ›ç¸½æ˜¯è”šè—çš„å¤©" },
  { time: 32, text: "ê¼¬ë§ˆì•¼ ì•½í•´ì§€ì§€ë§ˆ", translation: "å°é¬¼å•Š ä¸è¦è®Šè»Ÿå¼±" },
  { time: 37, text: "ìŠ¬í””ì„ í˜¼ì ì•ˆê³  ì‚´ì§€ëŠ” ë§ˆ", translation: "ä¸è¦ç¨è‡ªæ‡·æŠ±è‘—é›£éæ´»è‘—" },
  { time: 43, text: "ì•„ë¹ ì•¼ ì–´ë””ë¥¼ ê°€ì•¼", translation: "é˜¿çˆ¸å‘€ æˆ‘è©²å¾€å“ªå»" },
  { time: 47, text: "ë‹¹ì‹ ì˜ ë§ˆìŒì²˜ëŸ¼ ì‚´ ìˆ˜ ìˆì„ê¹Œ ", translation: "æ‰èƒ½èˆ‡ä½ è²»åŒæ¨£å¿ƒæ€ç”Ÿæ´»" },
  { time: 52, text: "ê°€ì¥ í° ë³„ì´ ë³´ì´ëŠ” ìš°ë¦¬ ë™ë„¤ ", translation: "åœ¨æˆ‘å€‘å°å€çœ‹è¦‹æœ€å¤§æ˜Ÿæ˜Ÿ" },
  { time: 57, text: "ë”°ëœ»í•œ í–‡ì‚´ ê½ƒì´ í”¼ëŠ” ë´„ì—", translation: "æº«æš–çš„é™½å…‰ç‘åœ¨èŠ±é–‹çš„æ˜¥å¤©" },
  { time: 63, text: "ê·¸ëŒˆ ìœ„ë¡œí•´ìš” ê·¸ëŒˆ ì‚¬ë‘í•´ìš”", translation: "é€™æ¨£å®‰æ…°è‘—ä½  é€™æ¨£æ„›è‘—ä½ " },
  { time: 68, text: "ê·¸ëŒ€ë§Œì˜ ë…¸ë˜ë¡œ", translation: "å”±è‘—åªå±¬æ–¼ä½ çš„æ­Œ" },
  { time: 73, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 78, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 84, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 88, text: "í•˜ëŠ˜ë°”ë¼ê¸° í•˜ëŠ˜ë§Œ ë©í•˜ë‹ˆ", translation: "ä»°æœ›è‘—å¤©ç©º å‚»å‚»çš„ç™¼å‘†" },
  { time: 94, text: "ê°€ì¥ í° í•˜ëŠ˜ì´ ìˆì–ì•„ ", translation: "ä¸æ˜¯æœ‰ç‰‡æœ€é¼é—Šçš„å¤©ç©ºå—" },
  { time: 99, text: "ê·¸ëŒ€ê°€ ë‚´ í•˜ëŠ˜ì´ì–ì•„", translation: "ä½ å°±æ˜¯æˆ‘çš„é‚£ç‰‡å¤©ä¸æ˜¯å—" },
  { time: 104, text: "í›„íšŒ ì—†ëŠ” ì‚¶ë“¤", translation: "ç„¡æ‚”çš„æ—¥å­" },
  { time: 107, text: "ê°€ë‚œí–ˆë˜ ì¶”ì–µ", translation: "çª®å›°çš„å›æ†¶" },
  { time: 109, text: "ë‚œ í–‰ë³µí–ˆë‹¤", translation: "ä½†æˆ‘å¾ˆå¹¸ç¦" },
  { time: 115, text: "ì•„ë¹ ì•¼ ì•½í•´ì§€ì§€ë§ˆ ", translation: "é˜¿çˆ¸å‘€ ä½ è¦å …å¼·å•Š" },
  { time: 120, text: "ë¹—ì†ì„ ê±¸ì–´ë„ ë‚œ ê°ì‚¬í•˜ë‹ˆê¹", translation: "èµ°åœ¨é›¨ä¸­æˆ‘ä¹Ÿä»è¦ºå¾—æ„Ÿè¬" },
  { time: 125, text: "ì•„ë¹ ì•¼ ì–´ë””ë¥¼ ê°€ì•¼", translation: "é˜¿çˆ¸å‘€ æˆ‘è©²å¾€å“ªå»" },
  { time: 130, text: "ë‹¹ì‹ ì˜ ë§ˆìŒì²˜ëŸ¼ ì‚´ ìˆ˜ ìˆì„ê¹Œ", translation: "æ‰èƒ½èˆ‡ä½ è²»åŒæ¨£å¿ƒæ€ç”Ÿæ´»" },
  { time: 135, text: "ê°€ì¥ í° ë³„ì´ ë³´ì´ëŠ” ìš°ë¦¬ ë™ë„¤ ", translation: "åœ¨æˆ‘å€‘å°å€çœ‹è¦‹æœ€å¤§æ˜Ÿæ˜Ÿ" },
  { time: 140, text: "ë”°ëœ»í•œ í–‡ì‚´ ê½ƒì´ í”¼ëŠ” ë´„ì—", translation: "æº«æš–çš„é™½å…‰ç‘åœ¨èŠ±é–‹çš„æ˜¥å¤©" },
  { time: 146, text: "ê·¸ëŒˆ ìœ„ë¡œí•´ìš” ê·¸ëŒˆ ì‚¬ë‘í•´ìš”", translation: "é€™æ¨£å®‰æ…°è‘—ä½  é€™æ¨£æ„›è‘—ä½ " },
  { time: 151, text: "ê·¸ëŒ€ë§Œì˜ ë…¸ë˜ë¡œ", translation: "å”±è‘—åªå±¬æ–¼ä½ çš„æ­Œ" },
  { time: 156, text: "ë”°ëœ»í•œ ë°”ëŒì´ ë¶€ëŠ” ë´„ ë‚´ìŒ", translation: "æº«æš–çš„å¾®é¢¨æä¾†æ˜¥çš„æ°£æ¯" },
  { time: 158, text: "ê·¸ëŒ€ì™€ ì´ ê¸¸ì„ í•¨ê»˜ ê±·ë„¤", translation: "æˆ‘å’Œä½ ä¸€èµ·èµ°åœ¨é€™æ¢è·¯ä¸Š" },
  { time: 161, text: "ì•„ë ¨í•œ ë‚´ ë§˜ì´ ê²¨ìš° ë‹¿ëŠ” ê³³ì—", translation: "æ–æ“ºçš„å¿ƒå‹‰å¼·è§¸ç¢°çš„åœ°æ–¹" },
  { time: 166, text: "ìµìˆ™í•œ ê³¨ëª© ë’¤ì— ìˆ¨ì–´ìˆë‹¤ê°€", translation: "è—åœ¨ç†Ÿæ‚‰çš„å°å··å­å¾Œé¢" },
  { time: 171, text: "ê·¸ëŒ€ ì˜¤ê¸°ë§Œ ì˜¤ê¸°ë§Œ", translation: "ç­‰è‘—ä½ ä¾† ç­‰è‘—ä½ ä¾†" },
  { time: 173, text: "ê¸°ë‹¤ë¦° ê·¸ë•Œê°€ ìê¾¸ë§Œ ë– ì˜¬ë¼", translation: "ç¸½æ˜¯æƒ³èµ·ç­‰å¾…ä½ çš„æ™‚å…‰" },
  { time: 176, text: "ê°€ì¥ í° ë³„ì´ ë³´ì´ëŠ” ìš°ë¦¬ ë™ë„¤", translation: "åœ¨æˆ‘å€‘å°å€çœ‹è¦‹æœ€å¤§æ˜Ÿæ˜Ÿ" },
  { time: 181, text: "ë”°ëœ»í•œ í–‡ì‚´ ê½ƒì´ í”¼ëŠ” ë´„ì—", translation: "æº«æš–çš„é™½å…‰ç‘åœ¨èŠ±é–‹çš„æ˜¥å¤©" },
  { time: 187, text: "ê·¸ëŒˆ ìœ„ë¡œí•´ìš” ê·¸ëŒˆ ì‚¬ë‘í•´ìš”", translation: "é€™æ¨£å®‰æ…°è‘—ä½  é€™æ¨£æ„›è‘—ä½ " },
  { time: 192, text: "ê·¸ëŒ€ë§Œì˜ ë…¸ë˜ë¡œ", translation: "å”±è‘—åªå±¬æ–¼ä½ çš„æ­Œ" },
  { time: 197, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 202, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 207, text: "ëšœë£¨ëšœëšœë‘ ë‘ë‘ë‘", translation: "do lu do do do do do do" },
  { time: 212, text: "í•˜ëŠ˜ë°”ë¼ê¸° í•˜ëŠ˜ë§Œ ë©í•˜ë‹ˆ", translation: "ä»°æœ›è‘—å¤©ç©º å‚»å‚»çš„ç™¼å‘†" },
  { time: 217, text: "", translation: "" },
    // ...æ›´å¤š
  ],

  2: [
  { time: 0, text: "", translation: "" },
  { time: 8, text: "â€˜ë­í•´?â€˜ë¼ëŠ” ë‘ ê¸€ìì—", translation: "ã€Œåœ¨å¹¹å˜›ï¼Ÿã€é€™ä¸‰å€‹å­—è£¡" },
  { time: 11, text: "â€˜ë„¤ê°€ ë³´ê³  ì‹¶ì–´â€™ ë‚˜ì˜ ì†ë§ˆìŒì„ ë‹´ì•„ ìš°", translation: "è—è‘—ã€Œæˆ‘å¥½æƒ³ä½ ã€çš„å¿ƒè£¡è©± Woo" },
  { time: 18, text: "ì´ëª¨í‹°ì½˜ í•˜ë‚˜í•˜ë‚˜ ì†ì—", translation: "å‚³å‡ºå»çš„å„å€‹è¡¨æƒ…ç¬¦è™Ÿ" },
  { time: 20, text: "ë‹¬ë¼ì§€ëŠ” ë‚´ ë¯¸ë¬˜í•œ ì‹¬ë¦¬ë¥¼ ì•Œê¹Œ ìš°", translation: "ä½ æœ‰ç™¼ç¾æˆ‘å¾®å¦™çš„å¿ƒè£¡è®ŠåŒ–å— Woo" },
  { time: 26, text: "ì•„ë‹ˆ ë°”ì˜ì§€ ì•Šì•„ nothing no no", translation: "ä¸ æˆ‘ä¸€é»ä¹Ÿä¸å¿™ nothing no no" },
  { time: 31, text: "ì ë“¤ì–´ ìˆì§€ ì•Šì•„ insomnia nia nia", translation: "ä¸ æˆ‘æ²’æœ‰åœ¨ç¡è¦º insomnia nia nia" },
  { time: 36, text: "ì§€ê¸ˆ ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ì´ì§€ ì•Šì•„", translation: "ç¾åœ¨æ²’è·Ÿèª°åœ¨ä¸€èµ·" },
  { time: 40, text: "ì‘, ë‚˜ë„ ë„ˆë¥¼ ìƒê° ì¤‘", translation: "æ©ï¼Œæˆ‘åœ¨æƒ³ä½ " },
  { time: 45, text: "ìš°ë¦¬ì˜ ë„¤ëª¨ ì¹¸ì€ bloom", translation: "æˆ‘å€‘çš„å››é‚Šæ¡† bloom" },
  { time: 49, text: "ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ì¥ë¯¸ê½ƒì„ í”¼ì›Œ", translation: "ç”¨å¤§æ‹‡æŒ‡ç¶»æ”¾ç«ç‘°èŠ±" },
  { time: 54, text: "í–¥ê¸°ì— ì·¨í•  ê²ƒ ê°™ì•„ ìš°", translation: "æ²ˆé†‰åœ¨èŠ±é¦™ä¹‹ä¸­ Woo" },
  { time: 58, text: "ì˜¤ì§ ë‘˜ë§Œì˜ ë¹„ë°€ì˜ ì •ì›", translation: "åªæœ‰æˆ‘å€‘å…©äººçš„ç¥•å¯†èŠ±åœ’" },
  { time: 63, text: "I feel bloom I feel bloom I feel bloom", translation: "" },
  { time: 76, text: "ë„ˆì—ê²Œ í•œ ì†¡ì´ë¥¼ ë” ë³´ë‚´", translation: "å†å¤šé€çµ¦ä½ ä¸€æœµ" },
  { time: 86, text: "ë°¤ìƒ˜ ì‘ì—…ìœ¼ë¡œ ì—…ë°ì´íŠ¸", translation: "å¾¹å¤œé€šå®µæ›´æ–°çš„" },
  { time: 88, text: "í¥ë¯¸ë¡œìš´ ì´ ì‘í’ˆì˜ ì§€ì€ì´ thatâ€™s me ìš°", translation: "é€™æ´¥æ´¥æœ‰å‘³çš„ä½œå“å‰µä½œäººï¼ˆçŸ¥æ©æï¼‰thatâ€™s me Woo" },
  { time: 94, text: "ì–´ì©œ ì´ ê´€ê³„ì˜ í´ë¼ì´ë§¥ìŠ¤", translation: "ä¹Ÿè¨±é€™æ®µé—œä¿‚çš„é«˜å³°" },
  { time: 97, text: "2ë§‰ìœ¼ë¡œ ë„˜ì–´ê°€ê¸°ì—” ì§€ê¸ˆì´ good timing ìš°", translation: "å°±æ˜¯æ­£ç¿»åˆ°ç¬¬2å¹•çš„ç¾åœ¨ï¼ˆçŸ¥é‡‘æï¼‰good timing Woo" },
  { time: 104, text: "ê°™ì€ ë§˜ì¸ ê±¸ ì•Œì•„ realize la lize", translation: "æˆ‘çŸ¥é“æˆ‘å€‘å¿ƒæ„ç›¸é€š realize la lize" },
  { time: 108, text: "ë§ì„ ê³ ë¥´ì§€ ë§ì•„ just reply la la ly", translation: "åˆ¥å†åˆªåˆªæ¸›æ¸› just reply la la ly" },
  { time: 113, text: "ì¡°ê¸ˆ ì¥ë‚œìŠ¤ëŸ¬ìš´ ë‚˜ì˜ ì€ìœ ì—", translation: "æˆ‘èª¿çš®çš„éš±å–»" },
  { time: 117, text: "ë„¤ í•´ì„ì´ ê¶ê¸ˆí•´", translation: "çœŸå¥½å¥‡ä½ æœƒæ€éº½è§£è®€" },
  { time: 122, text: "ìš°ë¦¬ì˜ ìƒ‰ì€ gray and blue", translation: "æˆ‘å€‘çš„é¡è‰²æ˜¯ gray and blue" },
  { time: 126, text: "ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ë§í’ì„ ì„ ë„ì›Œ", translation: "ç”¨å¤§æ‹‡æŒ‡å‡èµ·å°è©±æ¡†" },
  { time: 131, text: "ê¸ˆì„¸ í„°ì§ˆ ê²ƒ ê°™ì•„ ìš°", translation: "å°±åƒå¿«çˆ†é–‹äº†ä¸€æ¨£ Woo" },
  { time: 135, text: "í˜¸í¡ì´ ê°€ë¹ ì ¸ ì–´ì§€ëŸ¬ì›Œ", translation: "å‘¼å¸è®Šå¾—æ€¥ä¿ƒ å¥½æšˆå‘€" },
  { time: 140, text: "I feel blue. I feel blue. I feel blue.", translation: "" },
  { time: 153, text: "ë„ˆì—ê²Œ ê°€ë“íˆ ì±„ì›Œ", translation: "æƒ³å°‡é€™ä»½æ»¿æ»¿å¿ƒæ„çµ¦ä½ " },
  { time: 158, text: "ë„ì–´ì“°ê¸°ì—†ì´ë³´ë‚¼ê²Œì‚¬ë‘ì¸ê²ƒê°™ì• ", translation: "ä¸åˆ†æ®µç›´æ¥å‚³å°±æ˜¯æˆ‘æ»¿æº¢çš„æ„›" },
  { time: 162, text: "ë°±ë§Œì†¡ì´ì¥ë¯¸ê½ƒì„, ë‚˜ë‘í”¼ì›Œë³¼ë˜?", translation: "ç™¾è¬æœµç«ç‘°ï¼Œè¦å’Œæˆ‘ä¸€èµ·ç¶»æ”¾å—ï¼Ÿ" },
  { time: 167, text: "ê½ƒìì˜ ìƒ‰ì€ ìš°ë¦¬ ë§ˆìŒ ê°€ëŠ” ëŒ€ë¡œ ì¹ í•´", translation: "èŠ±ç“£é¡è‰²å°±ç…§æˆ‘å€‘çš„å¿ƒæ„å»å¡—æ»¿" },
  { time: 172, text: "ì‹œë“¤ ë•Œë„ ì˜ˆì˜ê²Œ", translation: "å‡‹è¬æ™‚ä¹ŸåŒæ¨£ç¾éº—" },
  { time: 176, text: "ìš°ë¦¬ì˜ ë„¤ëª¨ ì¹¸ì€ bloom", translation: "æˆ‘å€‘çš„å››é‚Šæ¡† bloom" },
  { time: 180, text: "ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ì¥ë¯¸ê½ƒì„ í”¼ì›Œ", translation: "ç”¨å¤§æ‹‡æŒ‡ç¶»æ”¾ç«ç‘°èŠ±" },
  { time: 185, text: "í–¥ê¸°ì— ì·¨í•  ê²ƒ ê°™ì•„ ìš°", translation: "æ²ˆé†‰åœ¨èŠ±é¦™ä¹‹ä¸­ Woo" },
  { time: 189, text: "ì˜¤ì§ ë‘˜ë§Œì˜ ë¹„ë°€ì˜ ì •ì›", translation: "åªæœ‰æˆ‘å€‘å…©äººçš„ç¥•å¯†èŠ±åœ’" },
  { time: 194, text: "I feel bloom I feel bloom I feel bloom", translation: "" },
  { time: 208, text: "ë„ˆì—ê²Œ í•œ ì†¡ì´ë¥¼ ë” ë³´ë‚´", translation: "å†å¤šé€çµ¦ä½ ä¸€æœµ" },
  { time: 214, text: "", translation: "" },
    // ...æ›´å¤š
  ],

3: [
  { time: 0, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ê³ ", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ··æ··å™©å™©åœ°æ´»è‘—" },
  { time: 3, text: "ë”ëŠ” ê¸°íƒ€ í•œ ë²ˆë„ ë“¤ì§€ ëª» í•˜ê³ ", translation: "å†ä¹Ÿç„¡æ³•æ‹¿èµ·å‰ä»–" },
  { time: 7, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ì•„", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ´»è‘—" },
  { time: 11, text: "ì›ƒê¸°ì§€ ê·¸ëŸ°ë°", translation: "å¾ˆå¯ç¬‘å§ï¼Ÿä½†æ˜¯â‹¯" },
  { time: 14, text: "ì„¸íƒê¸°ëŠ” ê°€ë“íˆ ë°€ë ¤ë²„ë¦° ë¹¨ë˜ë¥¼ í† í•´ë‚´ê³ ", translation: "æ´—è¡£æ©Ÿåå‡ºå¡åœ°æ»¿æ»¿çš„è¡£ç‰©" },
  { time: 19, text: "ë¨¸ë¦¬ëŠ” ë¶• ë–  ë¶€ìŠ¤ìŠ¤í•´", translation: "é ­é«®æ¯›èºäº‚ç³Ÿç³Ÿçš„" },
  { time: 21, text: "ë‚˜ ë¹¼ê³  ë¶„ì£¼í•œ ì°½ë°–ì€ ë²šê½ƒë§ˆì € ë°”ì˜ê³ ", translation: "é™¤äº†æˆ‘ å°±é€£çª—å¤–é£›èˆçš„æ«»èŠ±çœ‹èµ·ä¾†éƒ½å¦‚æ­¤å¿™ç¢Œ" },
  { time: 28, text: "í•œì‹¬í•˜ê¸°ë¡œ í½ ì§ì´ ì—†ì–´ë„", translation: "å³ä½¿æˆ‘æ„šè ¢çš„ç„¡è—¥å¯æ•‘ã€" },
  { time: 31, text: "ë‹¹ì¥ì— ë‚´ê°€ ë‚´ì¼ í™˜ìƒí•  ë¦¬ ë§Œë¬´í•´ë„", translation: "ç„¡æ³•æ–¼éš”å¤©é‡ç”Ÿ" },
  { time: 35, text: "ì¶”ì–µ íŒ”ì•„ì„œ ê³¡ì´ë‚˜ ì“°ëŠ” ê±´ ë”± ì£½ê¸°ë³´ë‹¤ ì‹«ì€ë°", translation: "ä½†æˆ‘å°å°‡å›æ†¶å¯«æˆæ­Œæ›²é€™ä»¶äº‹é‚„æ˜¯æ·±æƒ¡ç—›çµ•" },
  { time: 42, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ê³ ", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ··æ··å™©å™©åœ°æ´»è‘—" },
  { time: 45, text: "ë”ëŠ” ê¸°íƒ€ í•œ ë²ˆë„ ë“¤ì§€ ëª» í•˜ê³ ", translation: "å†ä¹Ÿç„¡æ³•æ‹¿èµ·å‰ä»–" },
  { time: 49, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ì•„", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ´»è‘—" },
  { time: 53, text: "ì›ƒê¸°ì§€ ê·¸ëŸ°ë°", translation: "å¾ˆå¯ç¬‘å§ï¼Ÿä½†æ˜¯â‹¯" },
  { time: 56, text: "ì˜¤ëŠ˜ë§Œ I love you", translation: "åªæœ‰åœ¨ä»Šå¤© I love you" },
  { time: 59, text: "æ„›ã—ã¦ã‚‹ ì‚¬ë‘í•´ë¼ ë§í•˜ê³ ", translation: "æˆ‘æœƒå°ä½ èªª æˆ‘æ„›ä½ " },
  { time: 63, text: "ë§í•˜ê³  í›„íšŒí•˜ë©´ ì¢€ ê´œì°®ì„ê¹Œ?", translation: "èªªå‡ºå£å¾Œå†æ„Ÿåˆ°å¾Œæ‚”æœƒæ¯”è¼ƒå¥½ä¸€äº›å—ï¼Ÿ" },
  { time: 70, text: "Love you", translation: "" },
  { time: 72, text: "Dum, dum, dum, yeah", translation: "" },
  { time: 79, text: "Dum, dum, dum, yeah", translation: "" },
  { time: 83, text: "Wanna tell ya", translation: "" },
  { time: 84, text: "ì˜ê°ì„ ë°›ì€ ì²™í•˜ê³ ", translation: "å‡è£å¾—åˆ°éˆæ„Ÿ" },
  { time: 86, text: "ë»”í•œ ê°€ì‚¬ë¥¼ ì¨ë´ë„", translation: "è©¦è‘—å¯«å‡ºè€å¥—çš„æ­Œè©" },
  { time: 87, text: "ëŒê³  ëŒì•„ ì¢…ì°©ì§€ëŠ” ê²°êµ­ you", translation: "ç¹ä¾†ç¹å» æœ€çµ‚çµ‚é»é‚„æ˜¯ you" },
  { time: 90, text: "So sick of being sober", translation: "" },
  { time: 91, text: "ë„ˆì— ëŒ€í•œ ë…¸ë˜ ì•„ë‹Œ ì²™", translation: "å‡è£é€™é¦–æ­Œæ›²èˆ‡ä½ ç„¡é—œ" },
  { time: 93, text: "ì‚´ì•„ê°€ê² ì§€ ì˜¤ëŠ˜ ë‚´ì¼ ë˜ ëª¨ë ˆ ì§€ê²¹ì§€ë§Œ", translation: "æˆ‘æœƒæ´»ä¸‹å» å³ä½¿ä»Šå¤©ã€æ˜å¤©ç”šè‡³å¾Œå¤©éƒ½ä»¤äººæ„Ÿåˆ°å­ç…©" },
  { time: 98, text: "ì¶”ì–µ íŒ”ì•„ì„œ ê³¡ì´ë‚˜ ì“°ëŠ” ê±´ ë”± ì£½ê¸°ë³´ë‹¤ ì‹«ì€ë°", translation: "ä½†æˆ‘å°å°‡å›æ†¶å¯«æˆæ­Œæ›²é€™ä»¶äº‹é‚„æ˜¯æ·±æ„Ÿå­æƒ¡" },
  { time: 104, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ê³ ", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ··æ··å™©å™©åœ°æ´»è‘—" },
  { time: 108, text: "ë”ëŠ” ê¸°íƒ€ í•œ ë²ˆë„ ë“¤ì§€ ëª» í•˜ê³ ", translation: "å†ä¹Ÿç„¡æ³•æ‹¿èµ·å‰ä»–" },
  { time: 111, text: "ê·¸ë‚  ì´í›„ë¡œ ë‚œ ì´ë ‡ê²Œ ì‚´ì•„", translation: "è‡ªå¾é‚£å¤©èµ· æˆ‘å°±é€™æ¨£æ´»è‘—" },
  { time: 115, text: "ì›ƒê¸°ì§€ ê·¸ëŸ°ë°", translation: "å¾ˆå¯ç¬‘å§ï¼Ÿä½†æ˜¯â‹¯" },
  { time: 118, text: "ì˜¤ëŠ˜ë§Œ I love you", translation: "åªæœ‰åœ¨ä»Šå¤© I love you" },
  { time: 121, text: "æ„›ã—ã¦ã‚‹ ì‚¬ë‘í•´ë¼ ë§í•˜ê³ ", translation: "æˆ‘æœƒå°ä½ èªª æˆ‘æ„›ä½ " },
  { time: 126, text: "ë§í•˜ê³  í›„íšŒí•˜ë©´ ì¢€ ê´œì°®ì„ê¹Œ?", translation: "èªªå‡ºå£å¾Œå†æ„Ÿåˆ°å¾Œæ‚”æœƒæ¯”è¼ƒå¥½ä¸€äº›å—ï¼Ÿ" },
  { time: 132, text: "Love you", translation: "" },
  { time: 133, text: "ì†”ì§íˆ ë§í•´ ìŒì•… ê°™ì€ ê±´ ê°ì • ì†Œëª¨ë°–ì—” ì•ˆ ë˜ë‹ˆê¹Œ", translation: "èªªå¯¦è©±éŸ³æ¨‚é€™ç¨®æ±è¥¿çµ‚ç©¶åªæ˜¯åœ¨æ¶ˆè€—æƒ…æ„Ÿ" },
  { time: 136, text: "ê°€ì‚¬ ì“°ê³  ê¸°íƒ€ ì¹˜ëŠ” ê±´ ì˜ë¯¸ë„ ì—†ê³ ", translation: "ä½œè©å½ˆå‰ä»–ä»€éº¼çš„æ ¹æœ¬æ¯«ç„¡æ„ç¾©" },
  { time: 139, text: "ì–µì§€ìŠ¤ëŸ¬ìš´ ê°ë™ ì½”ë“œë¡œ ë³€ì§ˆë  ê²ƒ ê°™ì•„ì„œ ì´ë§Œ í• ë˜", translation: "åªæ˜¯ç‰½å¼·åœ°åšæˆæ„Ÿå‹•å’Œå¼¦è€Œå·² æ‰€ä»¥åˆ°æ­¤ç‚ºæ­¢å§" },
  { time: 145, text: "ë‹¤ ë³„ê±° ì—†ëŠ” ê±°ì–ì•„", translation: "åæ­£éƒ½æ˜¯äº›ç„¡é—œç·Šè¦çš„äº‹ç½·äº†" },
  { time: 147, text: "(I love you)", translation: "" },
  { time: 149, text: "Dum, dum, dum, yeah", translation: "" },
  { time: 151, text: "(æ„›ã—ã¦ã‚‹, ì‚¬ë‘í•´)", translation: "" },
  { time: 156, text: "Dum, dum, dum, yeah (Oh, oh)", translation: "" },
  { time: 159, text: "", translation: "" },
    // ...æ›´å¤š
  ]
};

// åˆå§‹åŒ–æ‰€æœ‰æ’­æ”¾å™¨
document.querySelectorAll('.music-player-block').forEach(block => {
  const songId = block.getAttribute('data-song');
  const lyrics = allLyrics[songId];

  // DOM
  const lyricBox = block.querySelector(`[data-lyric-box="${songId}"]`);
  const audio = block.querySelector(`[data-audio="${songId}"]`);
  const playBtn = block.querySelector(`[data-play-btn="${songId}"]`);
  const playIcon = block.querySelector(`[data-play-icon="${songId}"]`);
  const progress = block.querySelector(`[data-progress="${songId}"]`);
  const currentTimeEl = block.querySelector(`[data-current-time="${songId}"]`);
  const durationEl = block.querySelector(`[data-duration="${songId}"]`);

  // æ’å…¥æ­Œè©
  lyrics.forEach((line, idx) => {
    const container = document.createElement('div');
    container.className = 'lyric-line-container';
    container.setAttribute('data-idx', idx);

    const original = document.createElement('p');
    original.className = 'lyric-line original';
    original.textContent = line.text;

    const translation = document.createElement('p');
    translation.className = 'lyric-line translation';
    translation.textContent = line.translation;

    container.appendChild(original);
    container.appendChild(translation);
    lyricBox.appendChild(container);
  });

  // é€²å…¥é é¢æ™‚ï¼Œé è¨­ durationï¼ˆé¿å…æœªè¼‰å…¥æ™‚é¡¯ç¤º 0:00 æˆ–ç©ºç™½ï¼‰
  durationEl.textContent = '--:--';

  // æ§åˆ¶
  playBtn.onclick = function() {
    if (audio.paused) {
      // åœæ­¢å…¶ä»–æ’­æ”¾å™¨
      document.querySelectorAll('audio').forEach(a => { if (a !== audio) a.pause(); });
      audio.play();
    } else {
      audio.pause();
    }
  };

  audio.onplay = () => playIcon.className = 'bi bi-pause-fill';
  audio.onpause = () => playIcon.className = 'bi bi-play-fill';

  // é€²åº¦æ¢èˆ‡æ­Œè©
  audio.ontimeupdate = function() {
    if (audio.duration && !isNaN(audio.duration)) {
      progress.value = (audio.currentTime / audio.duration) * 100 || 0;
      currentTimeEl.textContent = formatTime(audio.currentTime);
      // è‹¥durationå°šæœªé¡¯ç¤ºï¼Œè£œä¸Š
      if (durationEl.textContent === '--:--' || durationEl.textContent === '0:00' || durationEl.textContent === 'NaN:NaN') {
        durationEl.textContent = formatTime(audio.duration);
      }
    }
    updateLyric(audio.currentTime, lyricBox, lyrics);
  };

  // åªè¦ metadata è¼‰å…¥å°±æ›´æ–° duration
  audio.onloadedmetadata = function() {
    if (audio.duration && !isNaN(audio.duration)) {
      durationEl.textContent = formatTime(audio.duration);
    } else {
      durationEl.textContent = '--:--';
    }
  };

  // è‹¥éŸ³æª”å·²å¿«å–ï¼Œonloadedmetadata å¯èƒ½ä¸è§¸ç™¼ï¼Œæ‰‹å‹•è§¸ç™¼ä¸€æ¬¡
  if (audio.readyState >= 1) {
    if (audio.duration && !isNaN(audio.duration)) {
      durationEl.textContent = formatTime(audio.duration);
    }
  } else {
    // è‹¥é‚„æ²’ readyï¼Œç›£è½ canplay äº‹ä»¶
    audio.addEventListener('canplay', function once() {
      if (audio.duration && !isNaN(audio.duration)) {
        durationEl.textContent = formatTime(audio.duration);
      }
      audio.removeEventListener('canplay', once);
    });
  }

  progress.oninput = function() {
    if (audio.duration && !isNaN(audio.duration)) {
      audio.currentTime = (progress.value / 100) * audio.duration;
    }
  };

  audio.onended = function() {
    progress.value = 0;
    currentTimeEl.textContent = "0:00";
    playIcon.className = 'bi bi-play-fill';
    updateLyric(0, lyricBox, lyrics);
  };
});

// æ­Œè©é«˜äº®æ»¾å‹•
function updateLyric(currentTime, lyricBox, lyrics) {
  let activeIdx = 0;
  for (let i = 0; i < lyrics.length; i++) {
    if (currentTime >= lyrics[i].time) activeIdx = i;
    else break;
  }
  lyricBox.querySelectorAll('.lyric-line-container').forEach((el, i) => {
    el.classList.toggle('active', i === activeIdx);
    if (i === activeIdx) {
      lyricBox.scrollTop = el.offsetTop - lyricBox.offsetTop - lyricBox.clientHeight / 2 + el.clientHeight / 2;
    }
  });
}

function formatTime(sec) {
  if (!isFinite(sec) || sec < 0) return '0:00';
  sec = Math.floor(sec);
  const m = Math.floor(sec / 60);
  const s = sec % 60;
  return `${m}:${s.toString().padStart(2, '0')}`;
}

</script>


    <!-- Bootstrap Icons CDNï¼ˆfor play/pause iconsï¼‰ -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->

    <!-- éŠ€æ²³é»æ“Šæ•ˆæœå®¹å™¨ -->
    <div id="galaxy-cursor"></div>

    <script>
        const colors = [
          'rgba(180,120,255,0.7)', // æ·¡ç´«
          'rgba(255,220,140,0.7)', // æ·¡é»ƒ
          'rgba(120,220,255,0.7)', // æ·¡è—
          'rgba(255,120,180,0.7)', // ç²‰ç´…
          'rgba(120,255,200,0.7)', // é’ç¶ 
          'rgba(255,160,120,0.7)', // æ©™
          'rgba(200,120,255,0.6)', // ç´«
          'rgba(255,255,255,0.8)'  // ç™½
        ];
        
        const galaxy = document.getElementById('galaxy-cursor');
        let isMouseDown = false;
        let lastX = 0, lastY = 0;
        
        document.addEventListener('mousedown', e => {
          isMouseDown = true;
          lastX = e.clientX;
          lastY = e.clientY;
          spawnDots(e.clientX, e.clientY, false);
        });
        
        document.addEventListener('mouseup', e => {
          isMouseDown = false;
        });
        
        document.addEventListener('mousemove', e => {
          if (isMouseDown) {
            // æ‹–æ›³å°¾å·´
            createTail(lastX, lastY, e.clientX, e.clientY);
            lastX = e.clientX;
            lastY = e.clientY;
            // æ‹–æ›³æ™‚å¶çˆ¾å‡ºç¾é»
            if (Math.random() < 0.25) spawnDots(e.clientX, e.clientY, true);
          }
        });
        
        document.addEventListener('click', e => {
          spawnDots(e.clientX, e.clientY);
        });
        
        function spawnDots(x, y, isDragging) {
          const num = isDragging ? 2 + Math.floor(Math.random() * 2) : 3 + Math.floor(Math.random() * 3); // æ‹–æ›³2~3ï¼Œé»æ“Š3~5
          for(let i=0; i<num; i++) {
            const dot = document.createElement('div');
            const color = colors[Math.floor(Math.random()*colors.length)];
            const size = 6 + Math.random()*2; // 4~6px
            const angle = Math.random() * Math.PI * 2;
            const radius = isDragging ? 4 + Math.random() * 8 : 6 + Math.random() * 15; // æ‹–æ›³ç²’å­æ›´é è¿‘ä¸­å¿ƒ
            dot.className = 'galaxy-dot';
            dot.style.background = color;
            dot.style.width = dot.style.height = size + 'px';
            dot.style.left = (x + Math.cos(angle)*radius - size/2) + 'px';
            dot.style.top = (y + Math.sin(angle)*radius - size/2) + 'px';
            dot.style.boxShadow = `0 0 ${Math.floor(4+Math.random()*6)}px ${color}`;
            galaxy.appendChild(dot);
            setTimeout(()=>dot.remove(), 200);
           }
        }

        
        // æ‹–æ›³æ™‚çš„å°¾å·´
        function createTail(x1, y1, x2, y2) {
          const tail = document.createElement('div');
          tail.className = 'galaxy-tail';
          const dx = x2-x1, dy = y2-y1;
          const length = Math.sqrt(dx*dx + dy*dy);
          tail.style.width = length + 6 + 'px'; // å°¾å·´ç¨çŸ­
          tail.style.height = '8px'; // å°¾å·´è¼ƒç´°
          tail.style.left = Math.min(x1, x2) + 'px';
          tail.style.top = Math.min(y1, y2) - 6 + 'px';
          tail.style.transform = `rotate(${Math.atan2(dy, dx)}rad)`;
          galaxy.appendChild(tail);
          setTimeout(()=>tail.remove(), 400); // å°¾å·´æ·¡å‡ºæ™‚é–“
        }
    </script>

    <script>// æ˜Ÿå¡µç‰¹æ•ˆ
      (function() {
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let w = window.innerWidth, h = window.innerHeight;
        let stars = [];
        const STAR_NUM = 120; // æ˜Ÿå¡µæ•¸é‡
        const STAR_COLOR = ['#fff', '#abc7ee', '#ffe9c9', '#e6e6fa'];
      
        function resize() {
          w = window.innerWidth;
          h = window.innerHeight;
          canvas.width = w;
          canvas.height = h;
        }
        window.addEventListener('resize', resize);
        resize();
      
        function randomStar() {
          const r = Math.random();
          return {
            x: Math.random() * w,
            y: Math.random() * h,
            radius: 0.5 + Math.random() * 1.3,
            speed: 0.1 + Math.random() * 0.25,
            alpha: 0.5 + Math.random() * 0.5,
            color: STAR_COLOR[Math.floor(Math.random()*STAR_COLOR.length)],
            drift: (Math.random()-0.5) * 0.25
          };
        }
      
        function createStars() {
          stars = [];
          for(let i=0; i<STAR_NUM; i++) {
            stars.push(randomStar());
          }
        }
        createStars();
      
        function animate() {
          ctx.clearRect(0,0,w,h);
          for(let star of stars) {
            ctx.save();
            ctx.globalAlpha = star.alpha;
            ctx.beginPath();
            ctx.arc(star.x, star.y, star.radius, 0, Math.PI*2);
            ctx.fillStyle = star.color;
            ctx.shadowColor = star.color;
            ctx.shadowBlur = 8;
            ctx.fill();
            ctx.restore();
      
            // ç·©æ…¢å‘ä¸‹é£„å‹•ï¼Œæœ‰äº›å·¦å³å¾®å¾®æ¼‚ç§»
            star.y += star.speed;
            star.x += star.drift;
      
            // å¦‚æœè¶…å‡ºç•«é¢ï¼Œé‡è¨­åˆ°é ‚éƒ¨
            if (star.y > h + 2) {
              star.y = -2;
              star.x = Math.random() * w;
            }
            if (star.x < -5 || star.x > w + 5) {
              star.x = Math.random() * w;
              star.y = Math.random() * h;
            }
          }
          requestAnimationFrame(animate);
        }
        animate();
      })();
      </script>
<script>
// ==== BGM è·¨é æŒçºŒæ’­æ”¾ã€éŸ³é‡æ§åˆ¶ã€å¾ 0:11 é–‹å§‹ ====
window.addEventListener('DOMContentLoaded', () => {
    const bgmAudio = document.getElementById('bgm-audio');
    const bgmPlayBtn = document.getElementById('bgm-play-btn');
    const bgmPlayIcon = document.getElementById('bgm-play-icon');
    const bgmVolume = document.getElementById('bgm-volume');
    const bgmProgress = document.getElementById('bgm-progress');
    const bgmTitle = document.querySelector('.bgm-title');
    const BGM_START_TIME = 11;

    if (!bgmAudio || !bgmPlayBtn || !bgmPlayIcon || !bgmVolume || !bgmProgress || !bgmTitle) {
        console.warn("BGM elements not found, BGM functionality will be disabled.");
        return;
    }

    bgmTitle.textContent = "Shiny Star";

    function getBgmState() {
        try {
            const storedState = localStorage.getItem('bgmState');
            return storedState ? JSON.parse(storedState) : {};
        } catch (e) {
            console.error("Error parsing BGM state from localStorage:", e);
            return {};
        }
    }

    function setBgmState(state) {
        try {
            localStorage.setItem('bgmState', JSON.stringify(state));
        } catch (e) {
            console.error("Error setting BGM state to localStorage:", e);
        }
    }

    function updatePlayButtonIcon() {
        if (bgmAudio.paused) {
            bgmPlayIcon.className = 'bi bi-play-fill';
        } else {
            bgmPlayIcon.className = 'bi bi-pause-fill';
        }
    }

    function initBgm() {
        const state = getBgmState();
        let volume = typeof state.volume === 'number' ? state.volume : 0.6;
        bgmAudio.volume = volume;
        bgmVolume.value = Math.round(volume * 100);

        // æ’­æ”¾æ™‚é–“åˆå§‹åŒ–ï¼Œå„ªå…ˆä½¿ç”¨ localStorage çš„ currentTimeï¼Œä½†ä¸å¾—å°æ–¼ BGM_START_TIME
        let startTime = (typeof state.currentTime === 'number' && state.currentTime >= BGM_START_TIME) ? state.currentTime : BGM_START_TIME;
        // å…ˆè¨­å®š currentTimeï¼Œå³ä½¿éŸ³è¨Šé‚„æ²’å®Œå…¨è¼‰å…¥ï¼Œé€™æ¨£ loadedmetadata æ™‚å¯ä»¥åƒè€ƒ
        bgmAudio.currentTime = startTime;

        if (state.isPlaying) {
            // å˜—è©¦ç«‹å³æ’­æ”¾ï¼Œå¦‚æœå¤±æ•—ï¼ˆä¾‹å¦‚è‡ªå‹•æ’­æ”¾åœ¨æŸäº›ç€è¦½å™¨è¢«é˜»æ­¢ï¼‰ï¼Œ
            // å‰‡ç­‰å¾…ç”¨æˆ¶äº’å‹•æˆ–ä¾è³´ `loadedmetadata`
            bgmAudio.play().then(() => {
                updatePlayButtonIcon();
            }).catch(() => {
                // è‡ªå‹•æ’­æ”¾å¤±æ•—ï¼Œç­‰å¾… loadedmetadata æˆ–ç”¨æˆ¶é»æ“Š
                bgmPlayIcon.className = 'bi bi-play-fill'; // åˆå§‹è¨­ç‚ºæ’­æ”¾åœ–ç¤ºï¼Œå› ç‚ºé‚„æ²’æ’­
            });
            // ç¢ºä¿ loadedmetadata è§¸ç™¼æ™‚èƒ½æ­£ç¢ºè¨­å®šæ™‚é–“ä¸¦æ›´æ–°ç‹€æ…‹
            bgmAudio.addEventListener('loadedmetadata', () => {
                // é‡æ–°ç¢ºèª startTimeï¼Œå› ç‚º play() å¯èƒ½å·²ç¶“æ”¹è®Šäº†å®ƒ
                // æˆ–è€…å¦‚æœä¹‹å‰ play() å¤±æ•—ï¼Œé€™è£¡ç¢ºä¿æ™‚é–“æ­£ç¢º
                bgmAudio.currentTime = (typeof getBgmState().currentTime === 'number' && getBgmState().currentTime >= BGM_START_TIME) ? getBgmState().currentTime : BGM_START_TIME;
                if (getBgmState().isPlaying) { // å†æ¬¡æª¢æŸ¥ stateï¼Œå› ç‚ºç”¨æˆ¶å¯èƒ½åœ¨ loadedmetadata å‰æ“ä½œäº†
                    bgmAudio.play().catch(() => {}); // å†æ¬¡å˜—è©¦æ’­æ”¾
                }
                updatePlayButtonIcon();
            }, { once: true });
        } else {
            updatePlayButtonIcon(); // è¨­ç‚ºæ’­æ”¾åœ–ç¤º
        }
    }
    initBgm();

    bgmPlayBtn.addEventListener('click', () => {
        if (bgmAudio.paused) {
            if (bgmAudio.currentTime < BGM_START_TIME) {
                bgmAudio.currentTime = BGM_START_TIME;
            }
            bgmAudio.play().catch(error => console.error("Error playing BGM:", error));
            // play() æ˜¯ç•°æ­¥çš„ï¼Œåœ–ç¤ºæ›´æ–°æ‡‰åœ¨ play äº‹ä»¶å¾Œæˆ–ç«‹å³å‡è¨­æˆåŠŸ
            // updatePlayButtonIcon(); // ç§»åˆ° play äº‹ä»¶ç›£è½å™¨
        } else {
            bgmAudio.pause();
            // updatePlayButtonIcon(); // ç§»åˆ° pause äº‹ä»¶ç›£è½å™¨
        }
        // ç‹€æ…‹å„²å­˜æ‡‰åœ¨å¯¦éš›æ’­æ”¾/æš«åœå¾Œï¼Œç”± 'play' å’Œ 'pause' äº‹ä»¶è™•ç†æ›´æº–ç¢º
    });

    bgmVolume.addEventListener('input', () => {
        const v = parseFloat(bgmVolume.value) / 100;
        bgmAudio.volume = v;
        setBgmState({ ...getBgmState(), volume: v }); // åªæ›´æ–° volume
    });

    bgmProgress.addEventListener('input', () => {
        if (bgmAudio.duration && isFinite(bgmAudio.duration)) { // æª¢æŸ¥ duration æ˜¯å¦æœ‰æ•ˆ
            const seekTime = (parseFloat(bgmProgress.value) / 100) * bgmAudio.duration;
            bgmAudio.currentTime = Math.max(seekTime, BGM_START_TIME); // ç¢ºä¿ä¸å°æ–¼ BGM_START_TIME
            // currentTime è®Šæ›´æœƒè§¸ç™¼ timeupdateï¼Œç‹€æ…‹åœ¨é‚£è£¡æ›´æ–°
        }
    });

    bgmAudio.addEventListener('timeupdate', () => {
        if (bgmAudio.duration && isFinite(bgmAudio.duration)) {
            if (bgmAudio.currentTime < BGM_START_TIME && !bgmAudio.seeking) { // å¢åŠ  !bgmAudio.seeking é¿å…åœ¨æ‹–å‹•æ™‚å¼·åˆ¶è·³è½‰
                bgmAudio.currentTime = BGM_START_TIME;
                return; // currentTime æ”¹è®Šæœƒå†æ¬¡è§¸ç™¼ timeupdate
            }
            const progressPercent = (bgmAudio.currentTime / bgmAudio.duration) * 100;
            bgmProgress.value = progressPercent;
            // æ¸›å°‘ localStorage çš„å¯«å…¥é »ç‡ï¼Œåªåœ¨é—œéµæ™‚åˆ»ï¼ˆå¦‚ beforeunload, play, pauseï¼‰å¯«å…¥ isPlaying å’Œ currentTime
        }
    });

    bgmAudio.addEventListener('ended', () => {
        bgmAudio.currentTime = BGM_START_TIME;
        bgmAudio.play().catch(error => console.error("Error restarting BGM on ended:", error));
    });

    // ==== æ–°å¢çš„äº‹ä»¶ç›£è½å™¨ï¼Œè™•ç†å¤–éƒ¨ä¸­æ–· ====
    bgmAudio.addEventListener('pause', () => {
        updatePlayButtonIcon();
        setBgmState({ ...getBgmState(), isPlaying: false, currentTime: bgmAudio.currentTime });
    });

    bgmAudio.addEventListener('play', () => {
        updatePlayButtonIcon();
        setBgmState({ ...getBgmState(), isPlaying: true, currentTime: bgmAudio.currentTime });
    });

    // å¯é¸ï¼šç›£è½å…¶ä»–å¯èƒ½å°è‡´æ’­æ”¾åœæ­¢çš„äº‹ä»¶
    bgmAudio.addEventListener('stalled', () => {
        console.warn("BGM playback stalled.");
        updatePlayButtonIcon(); // å¦‚æœ stalled å°è‡´æš«åœï¼Œåœ–ç¤ºæœƒæ›´æ–°
    });
    bgmAudio.addEventListener('suspend', () => {
        console.warn("BGM loading suspended.");
        // é€šå¸¸ suspend ä¸ç›´æ¥æ„å‘³è‘— pausedï¼Œä½†å¯ä»¥è§€å¯Ÿ
    });
    // ---------------------------------------

    window.addEventListener('beforeunload', () => {
        // ç¢ºä¿åœ¨é›¢é–‹é é¢å‰å„²å­˜çš„æ˜¯æœ€æ–°çš„æ’­æ”¾ç‹€æ…‹å’Œæ™‚é–“
        setBgmState({
            volume: bgmAudio.volume,
            currentTime: bgmAudio.currentTime,
            isPlaying: !bgmAudio.paused // ä»¥ audio å…ƒç´ çš„å¯¦éš›ç‹€æ…‹ç‚ºæº–
        });
    });

    // ç¢ºä¿éŸ³è¨Šå…ƒæ•¸æ“šè¼‰å…¥å¾Œï¼Œé€²åº¦æ¢çš„æœ€å¤§å€¼æ˜¯æ­£ç¢ºçš„
    bgmAudio.addEventListener('loadedmetadata', () => {
        if (bgmAudio.duration && isFinite(bgmAudio.duration)) {
            // bgmProgress.max æ‡‰è©²åœ¨ HTML ä¸­è¨­å®šç‚º 100
            // å¦‚æœ currentTime åœ¨ BGM_START_TIME ä¹‹å‰ï¼Œä¸¦ä¸”æ²’æœ‰åœ¨æ’­æ”¾ï¼Œå‰‡æ›´æ–°é€²åº¦æ¢
            if (bgmAudio.currentTime < BGM_START_TIME && bgmAudio.paused) {
                 const progressPercent = (BGM_START_TIME / bgmAudio.duration) * 100;
                 bgmProgress.value = progressPercent;
            } else if (bgmAudio.duration) {
                const progressPercent = (bgmAudio.currentTime / bgmAudio.duration) * 100;
                bgmProgress.value = progressPercent;
            }
        }
    });
});
</script>
</body>

</html>